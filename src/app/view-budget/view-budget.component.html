<app-navbar></app-navbar>
<div class="container">
    <div class="shadow border-0">
        <h3 class="card-header text-center bg text-light rounded py-2">Each Budget Page</h3>

        <button class="btn btn-danger rounded-pill float-end mt-2" data-bs-toggle="modal" data-bs-target="#exampleModal">
            Delete Budget
        </button>
        <div class="p-3 text-center">
            <div class="row my-5">
                <table class="table table-responsive table-striped table-hovered text-center">
                    <tr class="fs-light bg-warning">
                        <th>Budget Title</th>
                        <th>Budget Amount (NGN) : 00</th>
                        <th>Budget Deadline</th>
                        <th>Budget Purchased</th>
                    </tr>
                    <tr class="bg-info">
                        <td>{{budgetDetail.budgetName}}</td>
                        <td>{{budgetDetail.budgetAmt}}</td>
                        <td>{{budgetDetail.budgetDeadline}}</td>
                        <td>
                            <fa-icon [icon]="markIcon" class="fs-4 text-success" *ngIf="budgetDetail.purchased"></fa-icon>
                            <fa-icon [icon]="unMarked" class="fs-4 text-danger" *ngIf="!budgetDetail.purchased"></fa-icon>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="row my-5">
                <div class="col-lg-6">
                    <p class="fs-4">Budget Total Amount <fa-icon [icon]="arrowIcon"></fa-icon>
                </div>
                <div class="col-lg-6">
                    <p class="fs-4 fw-bold">NGN {{budgetDetail.budgetAmt}} :00</p>
                </div>
            </div>
        </div>
        <div class="fw-bold px-3">
           Budget Purchased ? <input type="checkbox" (click)="checkBox()" [(ngModel)]="purchased">
        </div>
        <button class="btn btn-warning rounded-pill m-2 mt-2" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
            Edit Budget
        </button>
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Edit Budget</h5>
                    </div>
                    <div class="modal-body">
                        <div class="form-floating my-2">
                            <input type="text" name="" class="form-control" placeholder="Budget Name" [(ngModel)]="budgetName" value={{budgetDetail.budgetName}}>
                            <label for="">Budget Name</label>
                        </div>
                        <div class="form-floating my-2">
                            <input type="text" class="form-control" placeholder="Budget Name" [(ngModel)]="budgetAmt">
                            <label for="">Budget Amount</label>
                        </div>
                        <div class="form-floating my-2">
                            <input type="date" name="" class="form-control" placeholder="Budget Name" [(ngModel)]="budgetDeadline" value={{budgetDetail.budgetDeadline}}>
                            <label for="">Budget Deadline</label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn bg text-light" data-bs-dismiss="modal" (click)="saveChanges()">Save Changes</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title text-danger text-center" id="exampleModalLabel">WARNING! WARNING!! WARNING!!! </h5>
              </div>
              <div class="modal-body">
                <h5 class="modal-title text-warning" id="exampleModalLabel">Are you 100% sure to <span class="text-danger">DELETE</span> this budget? if <span class="text-danger">YES</span> click Trashed permanently and if <span class="text-danger">No</span> press close </h5>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" data-bs-dismiss="modal" (click)="deleteBudget()">Trashed permanently</button>
              </div>
            </div>
          </div>
        </div>
    </div>
</div>